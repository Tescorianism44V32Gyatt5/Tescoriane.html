<!DOCTYPE html>
<html lang="pl">
<head>
<meta charset="UTF-8">
<title>Pasaż Tesco – Apple (O.R.D.) 3D</title>
<style>
  body { margin:0; font-family:Arial,sans-serif; background:#f2f2f2; overflow:hidden; }
  h1 { text-align:center; margin:15px 0; }
  #controls { width:90%; max-width:1200px; margin:0 auto 10px; display:flex; justify-content:space-between; flex-wrap:wrap; gap:10px; }
  #filters button, #floor-select, #search-box { padding:6px 10px; font-size:14px; border-radius:4px; border:1px solid #333; background:white; cursor:pointer; }
  #map-container { width:90%; max-width:1200px; height:600px; margin:0 auto; border:2px solid #333; border-radius:8px; background:#e0e0e0; position:relative; overflow:hidden; perspective:1000px; }
  .map-inner { width:100%; height:100%; transform-style:preserve-3d; transition: transform 0.3s; position:absolute; top:0; left:0; }
  .store { position:absolute; padding:5px 8px; border-radius:5px; color:white; font-size:12px; cursor:pointer; display:flex; align-items:center; gap:3px; transition: transform 0.2s, box-shadow 0.2s; }
  .store:hover { transform:scale(1.4); z-index:10; box-shadow:0 0 12px rgba(0,0,0,0.5); }
  .store img { width:16px; height:16px; }
  .spożywcza { background:#4CAF50; }
  .technologiczna { background:#2196F3; }
  .rozrywka { background:#FF9800; }
  .usługi { background:#9C27B0; }
  .historyczna { background:#795548; }
  #info { width:90%; max-width:1200px; margin:10px auto 20px; padding:10px; background:#fff; border:1px solid #333; border-radius:5px; min-height:50px; }
  #legend { width:90%; max-width:1200px; margin:0 auto 20px; display:flex; justify-content:space-around; }
  .legend-item { display:flex; align-items:center; gap:5px; }
  .color-box { width:20px; height:20px; border:1px solid #333; }
</style>
</head>
<body>

<h1>Pasaż Tesco – Apple (O.R.D.) 3D</h1>

<div id="controls">
  <div id="filters">
    <button onclick="filterStores('all')">Wszystkie</button>
    <button onclick="filterStores('spożywcza')">Spożywcza</button>
    <button onclick="filterStores('technologiczna')">Technologiczna</button>
    <button onclick="filterStores('rozrywka')">Rozrywka</button>
    <button onclick="filterStores('usługi')">Usługi</button>
    <button onclick="filterStores('historyczna')">Historyczne</button>
  </div>
  <div>
    Piętro: 
    <select id="floor-select" onchange="changeFloor()">
      <option value="-200">-200</option>
      <option value="-100">-100</option>
      <option value="0">0</option>
      <option value="100">100</option>
      <option value="200">200</option>
    </select>
  </div>
  <div>
    Szukaj: <input type="text" id="search-box" placeholder="Wpisz nazwę..." onkeyup="searchStore()">
  </div>
</div>

<div id="map-container">
  <div class="map-inner" id="mapInner">
    <!-- Przykładowe sklepy i obiekty publiczne z ikonami -->
    <div class="store spożywcza" data-name="Tesco Hypermarket" data-year="2015" data-floor="-200" style="top:50px; left:50px;">
      <img src="https://cdn-icons-png.flaticon.com/512/1046/1046784.png" alt="Tesco"> Tesco Hypermarket
    </div>
    <div class="store technologiczna" data-name="Apple Watch" data-year="2015" data-floor="0" style="top:80px; left:200px;">
      <img src="https://cdn-icons-png.flaticon.com/512/732/732229.png" alt="Apple"> Apple Watch
    </div>
    <div class="store rozrywka" data-name="Kino TKNGTSC" data-year="2015" data-floor="0" style="top:150px; left:50px;">
      <img src="https://cdn-icons-png.flaticon.com/512/3237/3237472.png" alt="Kino"> Kino TKNGTSC
    </div>
    <div class="store usługi" data-name="Kaplica Św. Baltazara" data-year="" data-floor="0" style="top:200px; left:300px;">
      <img src="https://cdn-icons-png.flaticon.com/512/2921/2921822.png" alt="Kaplica"> Kaplica Św. Baltazara
    </div>
    <div class="store usługi" data-name="Urząd województwa Apple" data-year="" data-floor="0" style="top:250px; left:400px;">
      <img src="https://cdn-icons-png.flaticon.com/512/3135/3135715.png" alt="Urząd"> Urząd województwa Apple
    </div>
    <div class="store spożywcza" data-name="McDonald's" data-year="2015" data-floor="100" style="top:300px; left:350px;">
      <img src="https://cdn-icons-png.flaticon.com/512/888/888857.png" alt="McD"> McDonald's
    </div>
    <div class="store rozrywka" data-name="Kino Helios" data-year="2015" data-floor="100" style="top:350px; left:150px;">
      <img src="https://cdn-icons-png.flaticon.com/512/3237/3237472.png" alt="Kino"> Kino Helios
    </div>
  </div>
</div>

<div id="info">Kliknij na sklep lub obiekt, użyj filtrów i wyszukiwarki.</div>

<div id="legend">
  <div class="legend-item"><div class="color-box spożywcza"></div> Spożywcza</div>
  <div class="legend-item"><div class="color-box technologiczna"></div> Technologiczna</div>
  <div class="legend-item"><div class="color-box rozrywka"></div> Rozrywka</div>
  <div class="legend-item"><div class="color-box usługi"></div> Usługi</div>
  <div class="legend-item"><div class="color-box historyczna"></div> Historyczna / Nieprawdziwa</div>
</div>

<script>
const stores = document.querySelectorAll('.store');
const info = document.getElementById('info');
const floorSelect = document.getElementById('floor-select');
const mapInner = document.getElementById('mapInner');

stores.forEach(store => {
  store.addEventListener('click', () => {
    const name = store.getAttribute('data-name');
    const year = store.getAttribute('data-year');
    const floor = store.getAttribute('data-floor');
    info.textContent = `Sklep/Obiekt: ${name} | Rok: ${year || '---'} | Piętro: ${floor}`;
  });
});

function filterStores(category) {
  stores.forEach(store => {
    if(category==='all' || store.classList.contains(category)) store.style.display='flex';
    else store.style.display='none';
  });
}

function changeFloor() {
  const selectedFloor = floorSelect.value;
  stores.forEach(store => {
    if(store.getAttribute('data-floor')===selectedFloor) store.style.display='flex';
    else store.style.display='none';
  });
}

function searchStore() {
  const query = document.getElementById('search-box').value.toLowerCase();
  stores.forEach(store => {
    if(store.getAttribute('data-name').toLowerCase().includes(query)) store.style.display='flex';
    else store.style.display='none';
  });
}

// System przesuwania mapy 3D (prosty)
let posX = 0, posY = 0;
document.addEventListener('keydown', e => {
  const step = 20;
  switch(e.key){
    case 'ArrowUp': posY += step; break;
    case 'ArrowDown': posY -= step; break;
    case 'ArrowLeft': posX += step; break;
    case 'ArrowRight': posX -= step; break;
  }
  mapInner.style.transform = `translateX(${posX}px) translateY(${posY}px)`;
});
</script>

</body>
</html>
